{"version":3,"sources":["config/seed.js"],"names":["newUserID","newCharID","find","remove","then","create","provider","role","name","email","password","data","_id","console","log","creator","bio","age","gender","appearance","height","feet","inches","weight","size","hair","eyes","skin","descr","languages","backStory","race","main","subrace","class","archetype","general","level","experience","alignment","diety","movement","background","specialType","special","trait","ideal","bond","flaw","combat","armor","weapons","ammunition","arrows","bolts","bullets","needles","armorClass","hitPoints","hitDie","specialAttacks","specialDefense","equipment","number","money","platinum","gold","electrum","silver","copper","abilityScores","str","dex","con","int","wis","cha","skills","prof","passive","insight","perception","profBonus","spells","ability","saveDc","attackBonus","lvl0","lvl1","lvl2","findOneAndUpdate","characters","new","upsert","setDefaultsOnInsert","exec"],"mappings":"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","file":"seed.js","sourcesContent":["/**\r\n* Populate DB with sample data on server start\r\n* to disable, edit config/environment/index.js, and set `seedDB: false`\r\n*/\r\n\r\n'use strict';\r\nimport User from '../api/user/user.model';\r\nimport Character from '../api/character/character.model';\r\n\r\n\r\nvar newUserID;\r\nvar newCharID;\r\n\r\nUser.find({}).remove()\r\n.then(() => {\r\n  User.create({\r\n    provider: 'local',\r\n    role: 'admin',\r\n    name: 'Admin',\r\n    email: 'admin@example.com',\r\n    password: 'admin',\r\n  })\r\n  .then((data) => {\r\n    newUserID = data._id;\r\n    console.log('finished populating users');\r\n\r\n    Character.find({}).remove()\r\n    .then(() => {\r\n      Character.create({\r\n        creator: newUserID,\r\n        bio: {\r\n          name: 'Neysa Greycastle',\r\n          age: 25,\r\n          gender: 'Female',\r\n          appearance: {\r\n            height: {\r\n              feet: 5,\r\n              inches: 8\r\n            },\r\n            weight: 118,\r\n            size: 'Medium',\r\n            hair: 'brown',\r\n            eyes: 'green',\r\n            skin: 'tawny',\r\n            descr: 'Her hair goes to her mid-back and is always up in a braid.'\r\n          },\r\n          languages: [{name:'Common'}, {name:'Dwarvish'}, {name:'Halfing'}, {name:'Elvish'}],\r\n          backStory: 'Neysa is a priestess of the goddess Mishakal. She is not from the city.'\r\n        },\r\n        race: {\r\n          main: 'Human',\r\n          subrace: 'Chondathan',\r\n        },\r\n        class: {\r\n          main: 'Cleric',\r\n          archetype: 'Life Domain'\r\n        },\r\n        general: {\r\n          level: 3,\r\n          experience: 900,\r\n          alignment: 'Lawful Good',\r\n          diety: 'Mishakal',\r\n          movement: 30\r\n        },\r\n        background: {\r\n          main: 'Acolyte',\r\n          specialType: '',\r\n          special: '',\r\n          trait: 'Nothing can shake my optimistic attitude.',\r\n          ideal: 'Charity. I always try to help those in need, no matter what the personal cost.(Good)',\r\n          bond: 'Everything I do is for the common people.',\r\n          flaw: 'Once I pick a goal, I become obsessed with it to the detriment of everything else in my life.'\r\n        },\r\n        combat: {\r\n          armor: 'scale mail',\r\n          weapons: [{name:'light crossbow'}, {name:'dagger'}],\r\n          ammunition: {\r\n            arrows: 0,\r\n            bolts: 30,\r\n            bullets: 0,\r\n            needles: 0\r\n          },\r\n          armorClass: 14,\r\n          hitPoints: 25,\r\n          hitDie: '3d8',\r\n          specialAttacks: 'none',\r\n          specialDefense: 'none',\r\n        },\r\n        equipment: [{name:'backpack', number: 1}, {name:'waterskin', number: 1}, {name:'vestments', number: 2}, {name:'block of incense', number: 2}, {name:'holy amulet', number: 1}, {name:'blanket', number: 1}, {name:'candles', number: 10}, {name:'tinderbox', number: 1}, {name:'alms box', number: 1}, {name:'clenser', number: 1}, {name:'meal rations', number: 2}, {name:'prayer book', number: 1}],\r\n        money:{\r\n          platinum: 0,\r\n          gold: 15,\r\n          electrum: 0,\r\n          silver: 0,\r\n          copper: 0\r\n        },\r\n        abilityScores: {\r\n          str: 14,\r\n          dex: 11,\r\n          con: 15,\r\n          int: 11,\r\n          wis: 16,\r\n          cha: 11\r\n        },\r\n        skills: {\r\n          prof: [\r\n            {\"name\":\"Acrobatics\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Animal Handling\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Arcana\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Athletics\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Deception\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"History\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Insight\", \"score\": 1, \"prof\": true},\r\n            {\"name\":\"Intimidation\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Investigation\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Medicine\", \"score\": 1, \"prof\": true},\r\n            {\"name\":\"Nature\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Perception\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Performance\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Persuasion\", \"score\": 1, \"prof\": true},\r\n            {\"name\":\"Religion\", \"score\": 1, \"prof\": true},\r\n            {\"name\":\"Sleight of Hand\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Stealth\", \"score\": 0, \"prof\": false},\r\n            {\"name\":\"Survival\", \"score\": 0, \"prof\": false}\r\n      ],\r\n          passive: {\r\n            insight: 15,\r\n            perception: 13\r\n          },\r\n          profBonus: 2\r\n        },\r\n        spells: {\r\n          ability: 'WIS',\r\n          saveDc: 13,\r\n          attackBonus: 5,\r\n          lvl0: [{name:'Light'}, {name:'Sacred Flame'}, {name:'Thaumaturgy'}],\r\n          lvl1: [{name:'Bless'}, {name:'Cure Wounds'}, {name:'Healing Word'}, {name:'Detect Magic'}, {name:'Create or Destroy Water'}, {name:'Purify Food and Drink'}, {name:'Shield of Faith'}, {name:'Guiding Bolt'}],\r\n          lvl2: [{name:'Lesser Restoration'}, {name:'Prayer of Healing'}]\r\n        }\r\n      })\r\n      .then((data) => {\r\n        newCharID = data._id;\r\n        console.log('finished populating characters');\r\n\r\n        User.findOneAndUpdate({ email: 'admin@example.com'},\r\n          { characters: [newCharID] },\r\n          { new: true, upsert: true, setDefaultsOnInsert: true } ).exec()\r\n      });\r\n    });\r\n\r\n  });\r\n});\r\n"]}